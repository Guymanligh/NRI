<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnPython: Python</title>
    <script src="theme-init.js"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ø—Ä–æ–±–µ–ª—ã —É–¥–∞–ª–µ–Ω—ã -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.49.0/min/vs/loader.js"></script>
    <script defer src="loader.js"></script>
</head>
<body>
        <!-- Loader -->
    <div id="page-loader">
        <div class="loader-ring"></div>
        <div class="loader-text">–ñ“Ø–∫—Ç–µ–ª—É–¥–µ</div>
    </div>

    <header>
        <h1>LearnPython</h1>

        <button class="theme-toggle" id="theme-toggle" aria-label="–¢–µ–º–∞ –∞—É—ã—Å—Ç—ã—Ä—É">
            <span class="sun">‚òÄÔ∏è</span>
            <span class="moon">üåô</span>
        </button>

        <h2>Python</h2>
        <nav>
            <a href="index.html">–ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ –æ—Ä–∞–ª—É</a>
        </nav>
    </header>

    <main>
        <a href="pages/lesson1.html" class="card lesson">
            <span>1 —Å–∞–±–∞“õ : Python –¥–µ–≥–µ–Ω –Ω–µ?</span>
        </a>
        
        <a href="pages/lesson2.html" class="card lesson">
            <span>2 —Å–∞–±–∞“õ : Python –∫–æ–¥—ã–Ω –æ—Ä—ã–Ω–¥–∞—É</span>
        </a>
        <a href="pages/lesson3.html" class="card lesson">
            <span>3 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã “õ–∞—Ç–µ–ª–µ—Ä</span>
        </a>
        <a href="pages/lesson4.html" class="card lesson">
            <span>4 —Å–∞–±–∞“õ : Python-–¥–∞ 1-—à—ñ –æ–π—ã–Ω “õ“±—Ä–∞—Å—Ç—ã—Ä—É</span>
        </a>
        <a href="pages/lesson5.html" class="card lesson">
            <span>5 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã 1-—à—ñ –æ–π—ã–Ω–¥—ã “õ–∞—Ä–∞—Å—Ç—ã—Ä—É</span>
        </a>
        <a href="pages/lesson6.html" class="card lesson">
            <span>6 —Å–∞–±–∞“õ : Python-–¥–∞ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—Ä–¥—ã –æ—Ä—ã–Ω–¥–∞—É</span>
        </a>
        <a href="pages/lesson7.html" class="card lesson">
            <span>7 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã “õ–∞—Ä–∞–ø–∞–π—ã–º –∫–æ–º–∞–Ω–¥–∞–ª–∞—Ä</span>
        </a>
        
        <a href="pages/lesson8.html" class="card lesson">
            <span>8 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∫“Ø—Ä–¥–µ–ª—ñ—Ä–µ–∫ –∫–æ–º–∞–Ω–¥–∞–ª–∞—Ä</span>
        </a>
        <a href="pages/lesson9.html" class="card lesson">
            <span>9 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä</span>
        </a>
        <a href="pages/lesson10.html" class="card lesson">
            <span>10 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä —Ç“Ø—Ä–ª–µ—Ä—ñ</span>
        </a>
        <a href="pages/lesson11.html" class="card lesson">
            <span>11 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –µ—Å–µ–ø—Ç–µ—É–ª–µ—Ä</span>
        </a>
        <a href="pages/lesson12.html" class="card lesson">
            <span>12 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∂–æ–ª–¥–∞—Ä</span>
        </a>
        <a href="pages/lesson13.html" class="card lesson">
            <span>13 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∫—ñ—Ä—ñ—Å –∂”ô–Ω–µ —à—ã“ì—ã—Å</span>
        </a>
        <a href="pages/lesson14.html" class="card lesson">
            <span>14 —Å–∞–±–∞“õ : Python-–¥–∞ —à–µ—à—ñ–º “õ–∞–±—ã–ª–¥–∞—É</span>
        </a>
        <a href="pages/lesson15.html" class="card lesson">
            <span>15 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Ç–∞—Ä–º–∞“õ—Ç–∞–ª—É</span>
        </a>
        
        <a href="pages/interpreter.html" class="card lesson">
            <span>16 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Ü–∏–∫–ª–¥–µ—Ä</span>
        </a>
        <a href="pages/lesson17.html" class="card lesson">
            <span>17 —Å–∞–±–∞“õ : Python-–¥–∞ while —Ü–∏–∫–ª—ñ</span>
        </a>
        <a href="pages/lesson18.html" class="card lesson">
            <span>18 —Å–∞–±–∞“õ : Python-–¥–∞ for —Ü–∏–∫–ª—ñ</span>
        </a>
        <a href="pages/lesson19.html" class="card lesson">
            
            <span>19 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Ü–∏–∫–ª–¥–µ–Ω —à—ã“ì—É</span>
        </a>
        <a href="pages/lesson20.html" class="card lesson">
            <span>20 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Ç—ñ–∑—ñ–º–¥–µ—Ä</span>
        </a>
        
        <a href="pages/lesson21.html" class="card lesson">
            <span>21 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä</span>
        </a>
        <a href="pages/lesson22.html" class="card lesson">
            <span>22 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã —Å”©–∑–¥—ñ–∫—Ç–µ—Ä –º–µ–Ω –∫–æ—Ä—Ç–µ–∂–¥–µ—Ä</span>
            
        </a>
        <a href="pages/lesson23.html" class="card lesson">
            <span>23 —Å–∞–±–∞“õ : Python-–¥–∞ –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä–¥–∞“ì—ã —Ç—ñ–∑—ñ–º–¥–µ—Ä</span>
        </a>
        <a href="pages/lesson24.html" class="card lesson">
            <span>24 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∞–π–Ω—ã–º–∞–ª—ã–ª–∞—Ä –∂”ô–Ω–µ —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä</span>
        </a>
        
        <a href="pages/lesson25.html" class="card lesson">
            <span>25 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã “õ–∞—Ç–µ–ª–µ—Ä –∂”ô–Ω–µ –∂”©–Ω–¥–µ—É</span>
        </a>
        <a href="pages/lesson26.html" class="card lesson">
            <span>26 —Å–∞–±–∞“õ : Python-–¥–∞“ì—ã –∞–ª–≥–æ—Ä–∏—Ç–º–¥–µ—Ä</span>
        </a>
        <section id="interpreter" class="interpreter-wrap" style="padding: 2rem 1rem; width: 100%; max-width: 1100px; margin: 2rem auto;">
            <h2>Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—ã</h2>
            <div id="editor" style="height: 45vh; border-radius: 14px; border: 1px solid var(--code-border, #30363d);"></div>
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 16px 0;">
                <button id="run" class="interpreter-btn" 
                    style="background: #7c3aed; color: white; border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 1.1rem; font-weight: bold; flex: 1; min-width: 140px;">
                    –û—Ä—ã–Ω–¥–∞—É ‚ñ∂
                </button>
                <button id="clear" class="interpreter-btn"
                    style="background: #075dbf; color: #c9d1d9; border: 1px solid #58a6ff; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 1.1rem; flex: 1; min-width: 140px;">
                    –®—ã“ì–∞—Ä—É–¥—ã —Ç–∞–∑–∞—Ä—Ç—É
                </button>
                <button id="download" class="interpreter-btn"
                    style="background: #2ea043; color: white; border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 1.1rem; flex: 1; min-width: 140px;">
                    üì• –ö–æ–¥—Ç—ã –∂“Ø–∫—Ç–µ–ø –∞–ª—É (.py)
                </button>
            </div>
            <div id="outputWrapper" 
                style="border-radius: 14px; border: 1px solid var(--code-border, #30363d); margin-top: 8px; background: var(--code-bg, #161b22);">
                <pre id="output" 
                    style="padding: 16px; font-family: 'Courier New', Consolas, monospace; font-size: 1.05rem; height: 28vh; overflow: auto; white-space: pre-wrap; color: var(--text, #c9d1d9);">
–ú—ã–Ω–∞—É –∂–µ—Ä–¥–µ —Å—ñ–∑–¥—ñ“£ –∫–æ–¥—ã“£—ã–∑–¥—ã“£ –æ—Ä—ã–Ω–¥–∞–ª—É —à—ã“ì—ã—Å—ã –∫”©—Ä—Å–µ—Ç—ñ–ª–µ–¥—ñ.
                </pre>
                <input id="inputLine" 
                    placeholder="–ú”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑ –∂”ô–Ω–µ Enter –±–∞—Å—ã“£—ã–∑..." 
                    style="display: none; width: 100%; padding: 12px; background: var(--code-bg, #0d1117); color: var(--text, #c9d1d9); border: none; font-family: monospace; font-size: 1.05rem; outline: none;" />
            </div>
        </section>
    </main>

    <footer>
        <p>¬© LearnPython 2025. –ë–∞—Ä–ª—ã“õ “õ“±“õ—ã“õ—Ç–∞—Ä “õ–æ—Ä“ì–∞–ª“ì–∞–Ω.</p>
    </footer>

    <!-- ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –ø—Ä–æ–±–µ–ª—ã —É–¥–∞–ª–µ–Ω—ã -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.0/full/pyodide.js"></script>

    <script>
        let editor = null;
        let pyodide = null;
        const outEl = document.getElementById('output');
        const inputLine = document.getElementById('inputLine');
        const runBtn = document.getElementById('run');
        const clearBtn = document.getElementById('clear');
        const downloadBtn = document.getElementById('download');

        // --- –í—ã–≤–æ–¥ –≤ output ---
        function write(s) {
            outEl.textContent += String(s);
            outEl.scrollTop = outEl.scrollHeight;
        }

        function clearOutput() {
            outEl.textContent = '';
        }

        // --- input() ‚Üí JS-Promise bridge ---
        globalThis.py_input = (promptText) => {
            return new Promise(resolve => {
                write(String(promptText));
                inputLine.style.display = 'block';
                inputLine.value = '';
                inputLine.focus();
                const onEnter = (e) => {
                    if (e.key === 'Enter') {
                        const v = inputLine.value;
                        write(' ' + v + '\n');
                        inputLine.removeEventListener('keydown', onEnter);
                        inputLine.style.display = 'none';
                        resolve(v);
                    }
                };
                inputLine.addEventListener('keydown', onEnter);
            });
        };

        globalThis.console_write = write;

        // --- –ó–∞–≥—Ä—É–∑–∫–∞ Monaco ---
        require.config({ 
            paths: { vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.49.0/min/vs' }
        });

        // --- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º—ã Monaco + output (—á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ) ---
        function updateTheme() {
            if (!editor || !window.monaco) return;
            const isLight = document.documentElement.classList.contains('light');
            try {
                monaco.editor.setTheme(isLight ? 'vs' : 'vs-dark');
            } catch (e) {}
            // output –∏ inputLine –∏—Å–ø–æ–ª—å–∑—É—é—Ç CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        }

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Monaco ---
        function initMonaco() {
            require(['vs/editor/editor.main'], () => {
                const isLight = document.documentElement.classList.contains('light');
                editor = monaco.editor.create(document.getElementById('editor'), {
                    value: `# –ú—ã—Å–∞–ª: –°”ô–ª–µ–º–¥–µ—Å—É\nname = input('–ê—Ç—ã“£—ã–∑–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑: ')\nprint('–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ,', name)\n\n# –ú—ã—Å–∞–ª: “ö–æ—Å—É\na = int(input('–ë—ñ—Ä—ñ–Ω—à—ñ —Å–∞–Ω: '))\nb = int(input('–ï–∫—ñ–Ω—à—ñ —Å–∞–Ω: '))\nprint('“ö–æ—Å—ã–Ω–¥—ã:', a + b)`,
                    language: 'python',
                    theme: isLight ? 'vs' : 'vs-dark',
                    automaticLayout: true,
                    fontSize: 15,
                    minimap: { enabled: false },
                    renderLineHighlight: 'none'
                });

                // üîÅ –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ .light (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø–æ—Å–ª–µ DOMContentLoaded)
                const observer = new MutationObserver(updateTheme);
                observer.observe(document.documentElement, {
                    attributes: true,
                    attributeFilter: ['class']
                });
            });
        }

        // --- –ó–∞–≥—Ä—É–∑–∫–∞ Pyodide ---
        (async () => {
            write('\n–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∂“Ø–∫—Ç–µ–ª—É–¥–µ...\n');
            try {
                pyodide = await loadPyodide({
                    indexURL: 'https://cdn.jsdelivr.net/pyodide/v0.24.0/full/'
                });
                write('‚úÖ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–∞–π—ã–Ω!\n\n');
                if (runBtn) runBtn.disabled = false;
            } catch (err) {
                write('‚ùå “ö–∞—Ç–µ: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∂“Ø–∫—Ç–µ–ª–º–µ–¥—ñ ‚Äî ' + String(err) + '\n');
            }
        })();

        // --- DOMContentLoaded: –∫–Ω–æ–ø–∫–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---
        document.addEventListener('DOMContentLoaded', () => {
            if (runBtn) {
                runBtn.addEventListener('click', async () => {
                    if (!pyodide) {
                        write('‚ö† –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä ”ô–ª—ñ –¥–∞–π—ã–Ω –µ–º–µ—Å. –ö“Ø—Ç—ñ–ø —Ç“±—Ä—ã“£—ã–∑...\n');
                        return;
                    }
                    clearOutput();
                    write('‚ñ∂ –û—Ä—ã–Ω–¥–∞–ª—É–¥–∞...\n');

                    let code = editor?.getValue() || '';
                    // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞: —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–æ input( ‚Üí await input(
                    code = code.replace(/\binput\s*\(/g, 'await input(');

                    const prelude = `
import sys
from js import console_write, py_input

class _Writer:
    def write(self, s):
        if s is not None:
            console_write(str(s))
    def flush(self): pass

sys.stdout = _Writer()
sys.stderr = _Writer()

import builtins
async def _input(prompt=''):
    return await py_input(prompt)
builtins.input = _input
`;

                    try {
                        await pyodide.runPythonAsync(prelude + code);
                    } catch (err) {
                        write('‚ö† “ö–∞—Ç–µ: ' + String(err) + '\n');
                    }
                });
            }

            if (clearBtn) {
                clearBtn.addEventListener('click', clearOutput);
            }

            if (downloadBtn) {
                downloadBtn.addEventListener('click', () => {
                    const code = editor?.getValue() || '# –ö–æ–¥ –∂–æ“õ';
                    const blob = new Blob([code], { type: 'text/x-python;charset=utf-8' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'learnpython.py';
                    document.body.appendChild(a);
                    a.click();
                    setTimeout(() => {
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 100);
                });
            }

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Monaco
            initMonaco();
        });
    </script>
</body>
</html>